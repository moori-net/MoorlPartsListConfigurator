const i='{% block sw_property_option_detail_media %} {% parent %} <div class="sw-field"></div> <sw-custom-field-set-renderer :entity="currentOption" :sets="customFieldSets" /> {% endblock %}';Shopware.Component.override("sw-property-option-detail",{template:i,inject:["customFieldDataProviderService"],data(){return{customFieldSets:null}},created(){this.loadCustomFieldSets()},methods:{loadCustomFieldSets(){this.customFieldDataProviderService.getCustomFieldSets("property_group_option").then(t=>{this.customFieldSets=t})}}});const r=`<div class="sw-cms-el-config-moorl-parts-list-configurator"> <sw-cms-mapping-field v-model:config="element.config.partsListConfigurator" value-types="string"> <sw-entity-single-select :label="$tc('sw-cms.elements.moorl-parts-list-configurator.name')" v-model:value="element.config.partsListConfigurator.value" @update:value="onChangePartsListConfigurator" entity="moorl_pl" /> </sw-cms-mapping-field> </div>`,{Criteria:a}=Shopware.Data;Shopware.Component.register("sw-cms-el-config-moorl-parts-list-configurator",{template:r,mixins:[Shopware.Mixin.getByName("cms-element")],inject:["repositoryFactory"],computed:{formRepository(){return this.repositoryFactory.create("moorl_pl")}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-parts-list-configurator"),this.initElementData("moorl-parts-list-configurator")},onChangePartsListConfigurator(t){if(!t)this.element.config.partsListConfigurator.value=null,this.element.data.partsListConfigurator=null;else{const e=new a;this.formRepository.get(t,Shopware.Context.api,e).then(o=>{this.element.config.partsListConfigurator.value=t,this.element.data.partsListConfigurator=o})}this.$emit("element-update",this.element)}}});const s=`<div class="sw-cms-el-moorl-default"> <div> {{ $tc('sw-cms.elements.moorl-parts-list-configurator.name') }} </div> <template v-if="partsListConfigurator"> <div class="small"> {{ partsListConfigurator.translated.name }} </div> <router-link class="mt-button" target="_blank" rel="noopener" :to="{ name: 'moorl.parts.list.configurator.detail', params: { id: partsListConfigurator.id } }" > {{ $tc('global.default.edit') }} </router-link> </template> <template v-else> <router-link class="mt-button" target="_blank" rel="noopener" :to="{ name: 'moorl.parts.list.configurator.list' }" > {{ $tc('global.default.add') }} </router-link> </template> </div>`;Shopware.Component.register("sw-cms-el-moorl-parts-list-configurator",{template:s,mixins:[Shopware.Mixin.getByName("cms-element")],computed:{partsListConfigurator(){var t;return(t=this.element.data)==null?void 0:t.partsListConfigurator}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("moorl-parts-list-configurator"),this.initElementData("moorl-parts-list-configurator")}}});Shopware.Application.getContainer("service").cmsService.registerCmsElement({plugin:"MoorlPartsListConfigurator",icon:"regular-3d",name:"moorl-parts-list-configurator",label:"sw-cms.elements.moorl-parts-list-configurator.name",component:"sw-cms-el-moorl-parts-list-configurator",configComponent:"sw-cms-el-config-moorl-parts-list-configurator",previewComponent:!0,defaultConfig:{partsListConfigurator:{source:"static",value:null,entity:{name:"moorl_pl"}}}});function n(t){window.MoorlFoundation?t():window.addEventListener("MoorlFoundationReady",t,{once:!0})}n(()=>{MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_pl",name:"moorl-parts-list-configurator",navigationParent:"sw-catalogue",pageType:"parts_list_configurator_detail",properties:[{name:"active",visibility:100},{name:"name",visibility:200}],pluginName:"MoorlPartsListConfigurator",demoName:"standard",entityMapping:{filters:{tab:"relations",componentName:"moorl-entity-grid-card-v2"},type:{componentName:"moorl-select-field",attributes:{customSet:[{value:"calculator",label:"moorl-parts-list-configurator.type.calculator"},{value:"filter",label:"moorl-parts-list-configurator.type.filter"}]}},calculator:{conditions:[{property:"type",value:"calculator",operator:"eq"}],cols:6,componentName:"moorl-select-field",attributes:{customSet:"moorl-pl/get-parts-list-calculators"}}},cmsElements:[{name:"parts-list-configurator-listing",parent:"listing",icon:"regular-view-grid",cmsElementEntity:{associations:["cover.media"],propertyMapping:{media:"cover.media",name:["translated.name","name"],description:["translated.teaser","teaser"]}}}]}),MoorlFoundation.ModuleHelper.registerModule({entity:"moorl_pl_filter",name:"moorl-parts-list-filter",properties:[{name:"position",visibility:200},{name:"fixed",visibility:50},{name:"logical",visibility:100},{name:"technicalName",visibility:100},{name:"partsListConfigurator.name",visibility:100},{name:"options",visibility:0}],entityMapping:{options:{tab:"relations",card:"relations"}}})});
